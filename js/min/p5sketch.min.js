titleistSound.factory("sketch",["p5",function(e){return function(n){var t,o,r=!1,a=.2;n.setup=function(){t=new e.AudioIn,t.start(),o=new e.FFT,o.setInput(t),n.createCanvas(n.windowWidth,.25*n.windowHeight),n.noStroke()},n.draw=function(){n.background(240);var e=o.analyze(),u=t.getLevel();u>a&&!r&&(i(),console.log("sound level: "+u)),n.noFill(),n.stroke(100,100,100),n.strokeWeight(1),n.beginShape();for(var l=0;l<e.length;l++)n.vertex(2*l,n.map(e[l],0,255,n.height,0));n.endShape()};var i=function(){r=!0;for(var e=2e3,n=15e3,t=50,a=0,i=0,u=0,l=[],c=e;n>c;c+=t)a=o.getEnergy(c),l.push({frequency:c,amplitude:a}),a>i&&(i=a,u=c);console.log("peak frequency: "+u+",  peak amplitude: "+i+"\n"),document.getElementById("output").innerHTML=JSON.stringify(l)}}}]);